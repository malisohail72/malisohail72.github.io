<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Visa Cost Calculator</title>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
        }
        .calculator {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 700px;
            margin: auto;
        }
        h1, h2 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        select, button {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box; /* Include padding and border in element's total width and height */
        }
        select {
             appearance: none; /* Remove default arrow */
            background-color: #fff;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007bff%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 12px;
        }
        .budget-buttons button {
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 5px;
            transition: background-color 0.3s ease;
        }
        .budget-buttons button:hover {
            background-color: #0056b3;
        }
        .budget-buttons button.selected {
             background-color: #0056b3;
             font-weight: bold;
        }
        #results {
            margin-top: 30px;
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #ced4da;
        }
        #results h2 {
            margin-top: 0;
            color: #0056b3;
            text-align: left;
        }
        #results p {
            margin-bottom: 10px;
            color: #333;
        }
         #results strong {
            color: #17a2b8;
         }
        .suggestion {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
        }
        .suggestion.suitable {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
         .suggestion.unsuitable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .disclaimer {
            font-size: 0.8em;
            color: #666;
            margin-top: 15px;
            text-align: center;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        .cost-breakdown li {
             list-style: none;
             padding-left: 0;
             margin-bottom: 8px;
        }
         .cost-breakdown span {
             font-weight: bold;
             display: inline-block;
             min-width: 180px; /* Adjust as needed */
             color: #495057;
         }
    </style>
</head>
<body>

<div class="calculator">
    <h1>Student Visa Cost & Country Suggestion Calculator</h1>
    <p style="text-align: center; color: #555;">Estimate costs and see potential country fits based on your budget.</p>

    <div class="form-group">
        <label for="continent">1. Select Continent:</label>
        <select id="continent">
            <option value="">-- Select Continent --</option>
            </select>
    </div>

    <div class="form-group">
        <label for="country">2. Select Country:</label>
        <select id="country" disabled>
            <option value="">-- Select Continent First --</option>
            </select>
    </div>

    <div class="form-group">
        <label>3. Select Your Budget (PKR Lacs):</label>
        <div class="budget-buttons" id="budget-buttons">
            </div>
    </div>

    <div id="results" style="display: none;">
        <h2>Estimated Costs & Suggestion</h2>
        <div id="cost-details"></div>
        <div id="suggestion" class="suggestion"></div>
         <p class="disclaimer">
            <strong>Disclaimer:</strong> All costs are estimates for 2025 and subject to change. Bank statement figure is the minimum *proof of funds* typically required, not necessarily immediate spending. Air ticket costs vary greatly. This tool provides a basic guideline only. Always consult official sources for current requirements.
        </p>
    </div>
</div>

<script>
    // --- Data (Estimates as of early 2025 for Pakistani Students) ---
    // All costs converted to PKR for simplicity. Exchange rates used implicitly for estimation.
    // Bank Statement = Proof of funds (Tuition for 1 year + Living Expenses for 1 year + Travel Approx) - highly variable!
    // Other Costs = Health Insurance, Application Fees, Biometrics, SEVIS/IHS etc. - approximate.
    const countryData = {
        "North America": {
            "USA": {
                visaFeePKR: 50000, // Approx $185
                bankStatementMinPKR: 9000000, // Highly Variable ($35k-60k+ depending on I-20)
                airTicketPKR: 350000,
                otherCostsPKR: 110000, // SEVIS fee (~$350) + App Fees
                currency: "USD",
                notes: "Bank statement requirement (I-20) varies significantly by university. SEVIS fee mandatory."
            },
            "Canada": {
                visaFeePKR: 55000, // Approx CAD 150 (visa) + CAD 85 (biometrics)
                bankStatementMinPKR: 5500000, // GIC (CAD ~20,635 for 2024, may rise) + 1yr Tuition + Travel
                airTicketPKR: 380000,
                otherCostsPKR: 60000, // Medical Exam, App Fees
                currency: "CAD",
                notes: "Guaranteed Investment Certificate (GIC) often required for SDS stream. Tuition varies widely."
            }
        },
        "Europe": {
            "UK": {
                visaFeePKR: 155000, // Approx £490 (student visa)
                bankStatementMinPKR: 7500000, // 1yr Tuition + Living (£1,334/mo London, £1,023/mo elsewhere for 9 months)
                airTicketPKR: 250000,
                otherCostsPKR: 250000, // IHS Surcharge (~£776/year) + App Fees
                currency: "GBP",
                notes: "Mandatory Immigration Health Surcharge (IHS) adds significant cost, paid upfront."
            },
            "Germany": {
                visaFeePKR: 25000, // Approx €75
                bankStatementMinPKR: 3800000, // Blocked Account (~€11,208 for 2024/25, likely to increase) + Buffer
                airTicketPKR: 220000,
                otherCostsPKR: 40000, // Health Insurance (sometimes covered initially by blocked acc), App Fees
                currency: "EUR",
                notes: "No/low tuition fees at many public universities. Blocked account mandatory for living expenses proof."
            },
             "Sweden": {
                visaFeePKR: 45000, // Approx SEK 1500 (residence permit)
                bankStatementMinPKR: 4000000, // Approx SEK 10,000/month living + Full Tuition Fees
                airTicketPKR: 280000,
                otherCostsPKR: 70000, // App fee (~SEK 900), Insurance
                currency: "SEK",
                notes: "Tuition fees apply for non-EU students and can be high. Proof of funds covers living + tuition."
             }
        },
        "Oceania": {
            "Australia": {
                visaFeePKR: 160000, // Approx AUD 710
                bankStatementMinPKR: 8000000, // Living (AUD ~24,505/yr) + 1yr Tuition + Travel (AUD ~2000)
                airTicketPKR: 300000,
                otherCostsPKR: 150000, // OSHC Health Insurance (variable) + App Fees
                currency: "AUD",
                notes: "Strict financial requirements. Overseas Student Health Cover (OSHC) is mandatory."
            },
            "New Zealand": {
                 visaFeePKR: 80000, // Approx NZD 430 (online)
                 bankStatementMinPKR: 6000000, // Living (NZD 20,000/yr) + 1yr Tuition + Travel
                 airTicketPKR: 350000,
                 otherCostsPKR: 80000, // Insurance, App Fees, Medicals if needed
                 currency: "NZD",
                 notes: "Proof of funds needed for living costs plus tuition."
             }
        },
        "Asia": {
             "Malaysia": {
                visaFeePKR: 20000, // Visa Approval Letter (VAL) + Visa fees - variable by institution/country
                bankStatementMinPKR: 1500000, // Lower compared to Western countries, but varies.
                airTicketPKR: 100000,
                otherCostsPKR: 50000, // EMGS Fee, Insurance, Medical
                currency: "MYR",
                notes: "Generally more affordable option. Costs managed via Education Malaysia Global Services (EMGS)."
            },
            "Turkey": {
                visaFeePKR: 25000, // Approx $80-$100, varies
                bankStatementMinPKR: 2000000, // Relatively lower requirement, depends on duration/city
                airTicketPKR: 150000,
                otherCostsPKR: 60000, // Residence Permit, Insurance, App Fees
                currency: "TRY",
                notes: "Affordable tuition and living costs compared to many destinations."
            }
            // Add more Asian countries if needed
        }
        // Add Africa if needed
    };

    const budgetRanges = [
        { label: "15 - 25 Lac", min: 1500000, max: 2500000 },
        { label: "25 - 35 Lac", min: 2500000, max: 3500000 },
        { label: "35 - 50 Lac", min: 3500000, max: 5000000 },
        { label: "50 - 70 Lac", min: 5000000, max: 7000000 },
        { label: "70 - 90 Lac", min: 7000000, max: 9000000 },
        { label: "90 Lac +", min: 9000000, max: Infinity }
    ];

    // --- DOM Elements ---
    const continentSelect = document.getElementById('continent');
    const countrySelect = document.getElementById('country');
    const budgetButtonsContainer = document.getElementById('budget-buttons');
    const resultsDiv = document.getElementById('results');
    const costDetailsDiv = document.getElementById('cost-details');
    const suggestionDiv = document.getElementById('suggestion');

    let selectedContinent = null;
    let selectedCountry = null;
    let selectedBudget = null;

    // --- Functions ---

    // Populate continent dropdown
    function populateContinents() {
        const continents = Object.keys(countryData);
        continents.forEach(continent => {
            const option = document.createElement('option');
            option.value = continent;
            option.textContent = continent;
            continentSelect.appendChild(option);
        });
    }

    // Populate country dropdown based on selected continent
    function populateCountries() {
        selectedContinent = continentSelect.value;
        countrySelect.innerHTML = '<option value="">-- Select Country --</option>'; // Clear previous options
        countrySelect.disabled = true;
        selectedCountry = null; // Reset country selection
        resetBudgetAndResults(); // Reset budget and results when continent changes

        if (selectedContinent && countryData[selectedContinent]) {
            const countries = Object.keys(countryData[selectedContinent]);
            countries.forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                countrySelect.appendChild(option);
            });
            countrySelect.disabled = false;
        } else {
             countrySelect.innerHTML = '<option value="">-- Select Continent First --</option>';
        }
    }

    // Populate budget buttons
    function populateBudgetButtons() {
        budgetRanges.forEach(range => {
            const button = document.createElement('button');
            button.textContent = range.label;
            button.dataset.min = range.min;
            button.dataset.max = range.max;
            button.addEventListener('click', handleBudgetSelection);
            budgetButtonsContainer.appendChild(button);
        });
    }

     // Reset budget selection and hide results
    function resetBudgetAndResults() {
        selectedBudget = null;
        const buttons = budgetButtonsContainer.querySelectorAll('button');
        buttons.forEach(btn => btn.classList.remove('selected'));
        resultsDiv.style.display = 'none';
        costDetailsDiv.innerHTML = '';
        suggestionDiv.innerHTML = '';
        suggestionDiv.className = 'suggestion'; // Reset suggestion styling
    }


    // Handle budget button click
    function handleBudgetSelection(event) {
        selectedBudget = {
            min: parseInt(event.target.dataset.min),
            max: parseInt(event.target.dataset.max),
            label: event.target.textContent
        };

        // Highlight selected button
        const buttons = budgetButtonsContainer.querySelectorAll('button');
        buttons.forEach(btn => btn.classList.remove('selected'));
        event.target.classList.add('selected');


        // Check if country is selected before calculating
        selectedCountry = countrySelect.value; // Ensure country is updated
        if (selectedContinent && selectedCountry) {
            calculateAndDisplayResults();
        } else {
            alert("Please select a continent and country first.");
             resetBudgetAndResults(); // Reset if country is not selected
        }
    }

    // Format number as PKR Lacs or Crores
    function formatPKR(amount) {
        if (amount >= 10000000) { // 1 Crore
            return (amount / 10000000).toFixed(2) + " Crore PKR";
        } else if (amount >= 100000) { // 1 Lac
             return (amount / 100000).toFixed(2) + " Lac PKR";
        } else {
            return amount.toLocaleString('en-IN') + " PKR"; // Format smaller numbers with commas
        }
    }


    // Calculate costs and display results
    function calculateAndDisplayResults() {
        if (!selectedContinent || !selectedCountry || !selectedBudget) {
            resultsDiv.style.display = 'none';
            return;
        }

        const data = countryData[selectedContinent]?.[selectedCountry];
        if (!data) {
            costDetailsDiv.innerHTML = `<p>Cost data not available for ${selectedCountry}.</p>`;
            suggestionDiv.innerHTML = '';
            resultsDiv.style.display = 'block';
            return;
        }

        // Calculate total estimated *initial* outlay for comparison
        // Note: Bank statement is proof of funds, not direct initial cost, but crucial for planning
        const initialOutlay = data.visaFeePKR + data.airTicketPKR + data.otherCostsPKR;
        const minimumFundsRequired = data.bankStatementMinPKR; // The key figure for budget check

        costDetailsDiv.innerHTML = `
            <h3>Costs for ${selectedCountry} (${data.currency})</h3>
             <ul class="cost-breakdown">
                <li><span>Est. Visa Fee:</span> ${formatPKR(data.visaFeePKR)}</li>
                <li><span>Est. Air Ticket (from PK):</span> ${formatPKR(data.airTicketPKR)}</li>
                <li><span>Est. Other Costs (Insurance, Fees etc.):</span> ${formatPKR(data.otherCostsPKR)}</li>
                <li><span><strong>Min. Bank Statement Required:</strong></span> <strong>${formatPKR(minimumFundsRequired)}</strong></li>
                <li><span>Est. Initial Outlay (Visa+Ticket+Other):</span> ${formatPKR(initialOutlay)}</li>
             </ul>
             <p><em>Note: ${data.notes}</em></p>
        `;

        // Suggestion based on bank statement requirement fitting into budget
        if (minimumFundsRequired <= selectedBudget.max) {
             // More refined check: Does it comfortably fit? Check against lower bound.
             if (minimumFundsRequired >= selectedBudget.min) {
                 suggestionDiv.innerHTML = `<strong>Suggestion:</strong> ${selectedCountry} potentially fits your budget (${selectedBudget.label}). The minimum required funds (${formatPKR(minimumFundsRequired)}) fall within this range. Ensure you also account for actual tuition fees separately.`;
                 suggestionDiv.className = 'suggestion suitable';
             } else {
                 // Fits within max, but below min - means budget is higher than needed
                 suggestionDiv.innerHTML = `<strong>Suggestion:</strong> ${selectedCountry} is likely well within your budget (${selectedBudget.label}). The minimum required funds (${formatPKR(minimumFundsRequired)}) are below this range's lower limit.`;
                 suggestionDiv.className = 'suggestion suitable';
             }

        } else {
            suggestionDiv.innerHTML = `<strong>Suggestion:</strong> Based on estimates, ${selectedCountry} might be challenging with your selected budget (${selectedBudget.label}). The minimum required funds are estimated at ${formatPKR(minimumFundsRequired)}.`;
            suggestionDiv.className = 'suggestion unsuitable';
        }


        resultsDiv.style.display = 'block';
    }

    // --- Event Listeners ---
    continentSelect.addEventListener('change', populateCountries);
    countrySelect.addEventListener('change', () => {
         selectedCountry = countrySelect.value;
         resetBudgetAndResults(); // Reset budget when country changes
         // If a budget was previously selected, recalculate for the new country
        // if (selectedBudget) {
        //      calculateAndDisplayResults();
        // } // Decided against auto-recalc, better for user to re-click budget.
    });


    // --- Initial Setup ---
    populateContinents();
    populateBudgetButtons();

</script>

</body>
</html>