<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBR Tax Portal</title>
    <style>
        /* Color Scheme */
        :root {
            --primary-color: #006400;
            --secondary-color: #008000;
            --hover-color: #004d00;
        }

        /* Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            line-height: 1.6;
        }

        /* Header Styles */
        .header {
            background: var(--primary-color);
            padding: 1rem;
            color: white;
        }

        .nav {
            display: flex;
            gap: 2rem;
            position: relative;
        }

        /* Dropdown Styles */
        .dropdown {
            position: relative;
            cursor: pointer;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background: white;
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            z-index: 1;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-item {
            padding: 12px 16px;
            color: var(--primary-color);
        }

        .dropdown-item:hover {
            background: #f0f0f0;
        }

        /* Calculator Styles */
        .calculator-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            border: 1px solid #ddd;
        }

        .calculator {
            display: none;
        }

        .calculator.active {
            display: block;
        }

        input, select, button {
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ccc;
        }

        button {
            background: var(--secondary-color);
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background: var(--hover-color);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav {
                flex-direction: column;
            }
            
            .dropdown-content {
                position: static;
            }
        }
    </style>
</head>
<body>
    <!-- Header Component -->
    <header class="header">
        <nav class="nav">
            <div class="dropdown">
                <span>Tax Calculators â–¼</span>
                <div class="dropdown-content" id="mainDropdown"></div>
            </div>
        </nav>
    </header>

    <!-- Calculator Container -->
    <div class="calculator-container" id="calculatorContainer"></div>

    <!-- Calculator Templates -->
    <template id="salariedIncomeTax">
        <div class="calculator">
            <h3>Income Tax Calculator (Salaried)</h3>
            <input type="number" id="salary" placeholder="Monthly Salary">
            <button onclick="calculateIncomeTax()">Calculate</button>
            <p id="result"></p>
        </div>
    </template>

    <template id="salesTax">
        <div class="calculator">
            <h3>Sales Tax Calculator</h3>
            <input type="number" id="amount" placeholder="Amount">
            <select id="taxRate">
                <option value="0.17">Standard 17%</option>
                <option value="0.21">Special 21%</option>
            </select>
            <button onclick="calculateSalesTax()">Calculate</button>
            <p id="salesResult"></p>
        </div>
    </template>

    <template id="capitalGains">
        <div class="calculator">
            <h3>Capital Gains Tax Calculator</h3>
            <input type="number" id="purchasePrice" placeholder="Purchase Price">
            <input type="number" id="salePrice" placeholder="Sale Price">
            <button onclick="calculateCapitalGains()">Calculate</button>
            <p id="capitalResult"></p>
        </div>
    </template>

    <template id="stampDuty">
        <div class="calculator">
            <h3>Stamp Duty Calculator</h3>
            <input type="number" id="propertyValue" placeholder="Property Value">
            <button onclick="calculateStampDuty()">Calculate</button>
            <p id="stampResult"></p>
        </div>
    </template>

    <script>
        // Calculator Data Structure
        const calculators = {
            'Salaried Class': {
                'Income Tax': 'salariedIncomeTax',
                'Allowances': 'allowancesCalculator'
            },
            'Business Class': {
                'Sales Tax': 'salesTax',
                'Withholding Tax': 'withholdingTax',
                'Corporate Tax': 'corporateTax'
            },
            'Investor Class': {
                'Capital Gains Tax': 'capitalGains',
                'Stamp Duty': 'stampDuty',
                'Dividend Tax': 'dividendTax'
            }
        };

        // Initialize Dropdowns
        function initDropdowns() {
            const dropdown = document.getElementById('mainDropdown');
            for (const [category, subcats] of Object.entries(calculators)) {
                const categoryItem = document.createElement('div');
                categoryItem.className = 'dropdown-item';
                categoryItem.textContent = category;
                
                const subDropdown = document.createElement('div');
                subDropdown.className = 'dropdown-content';
                
                for (const [subcat, templateId] of Object.entries(subcats)) {
                    const subItem = document.createElement('div');
                    subItem.className = 'dropdown-item';
                    subItem.textContent = subcat;
                    subItem.onclick = () => showCalculator(templateId);
                    subDropdown.appendChild(subItem);
                }
                
                categoryItem.appendChild(subDropdown);
                dropdown.appendChild(categoryItem);
            }
        }

        // Show Selected Calculator
        function showCalculator(templateId) {
            const container = document.getElementById('calculatorContainer');
            const template = document.getElementById(templateId);
            container.innerHTML = '';
            container.appendChild(template.content.cloneNode(true));
        }

        // Calculator Functions
        function calculateIncomeTax() {
            const salary = document.getElementById('salary').value;
            const annual = salary * 12;
            let tax = annual > 600000 ? (annual - 600000) * 0.15 : 0;
            document.getElementById('result').textContent = `Annual Tax: Rs.${tax.toFixed(2)}`;
        }

        function calculateSalesTax() {
            const amount = document.getElementById('amount').value;
            const rate = document.getElementById('taxRate').value;
            const tax = amount * rate;
            document.getElementById('salesResult').textContent = `Sales Tax: Rs.${tax.toFixed(2)}`;
        }

        function calculateCapitalGains() {
            const purchase = parseFloat(document.getElementById('purchasePrice').value);
            const sale = parseFloat(document.getElementById('salePrice').value);
            const gain = sale - purchase;
            const tax = gain > 0 ? gain * 0.125 : 0;
            document.getElementById('capitalResult').textContent = `Capital Gains Tax: Rs.${tax.toFixed(2)}`;
        }

        function calculateStampDuty() {
            const value = document.getElementById('propertyValue').value;
            const duty = value * 0.02;
            document.getElementById('stampResult').textContent = `Stamp Duty: Rs.${duty.toFixed(2)}`;
        }

        // Initialize App
        window.onload = initDropdowns;
    </script>
</body>
</html>
